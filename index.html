<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tegy S - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ë–æ—Ç</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            overflow-y: auto;
            animation: fadeIn 1s ease-in-out;
            transition: background 0.5s;
            position: relative;
        }
        body.dark {
            background: linear-gradient(135deg, #1e1e1e 0%, #333 100%);
            color: #ddd;
        }
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            opacity: 0.1;
            pointer-events: none;
        }
        @keyframes fadeIn {
            from { opacity: 0; } to { opacity: 1; }
        }
        header {
            width: 100%;
            text-align: center;
            padding: 10px 0;
            background: rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 10;
        }
        h1 {
            font-size: 2.5em;
            margin: 10px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; }
        }
        .section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            animation: cardAppear 0.8s ease-in-out;
        }
        body.dark .section {
            background: rgba(0, 0, 0, 0.3);
        }
        @keyframes cardAppear {
            from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; }
        }
        .button {
            background: linear-gradient(135deg, #ff7e5f 0%, #feb47b 100%);
            border: none;
            border-radius: 10px;
            color: #fff;
            padding: 15px 30px;
            font-size: 1.2em;
            margin: 10px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            animation: pulse 1.5s infinite;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .button i {
            margin-right: 10px;
        }
        @keyframes pulse {
            0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); }
        }
        .button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        .flashcard {
            background: #fff;
            color: #333;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.2s;
            position: relative;
        }
        .flashcard:hover {
            transform: translateY(-5px);
        }
        body.dark .flashcard {
            background: #444;
            color: #fff;
        }
        .flashcard img {
            max-width: 100%;
            border-radius: 10px;
            margin-bottom: 10px;
            loading: lazy;
        }
        .flashcard .speak-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #4caf50;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
        }
        .quiz-container {
            margin: 20px 0;
        }
        .quiz-options {
            display: flex;
            flex-direction: column;
        }
        .quiz-option {
            background: #eee;
            color: #333;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        body.dark .quiz-option {
            background: #555;
            color: #ddd;
        }
        .quiz-option:hover {
            background: #ddd;
        }
        body.dark .quiz-option:hover {
            background: #666;
        }
        .quiz-input {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            border: none;
            width: 80%;
            background: #fff;
            color: #333;
        }
        body.dark .quiz-input {
            background: #555;
            color: #ddd;
        }
        .result {
            font-size: 1.2em;
            margin-top: 10px;
        }
        .about-text {
            font-size: 1em;
            line-height: 1.5;
        }
        .level-section {
            display: none;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confetti-fall 1s linear;
        }
        @keyframes confetti-fall {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .progress-bar {
            background: #ddd;
            height: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        body.dark .progress-bar {
            background: #666;
        }
        .progress-fill {
            background: #4caf50;
            height: 100%;
            border-radius: 5px;
            transition: width 0.3s;
        }
        .award {
            font-size: 2em;
            animation: bounce 1s;
        }
        @keyframes bounce {
            0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); }
        }
        .search-input {
            padding: 10px;
            width: 80%;
            margin-bottom: 10px;
            border-radius: 5px;
            border: none;
            background: #fff;
            color: #333;
        }
        body.dark .search-input {
            background: #555;
            color: #ddd;
        }
        iframe {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            margin: 10px 0;
        }
        .profile-section {
            text-align: center;
        }
        .badge {
            font-size: 2em;
            margin: 5px;
        }
        .streak {
            font-size: 1.5em;
            color: gold;
        }
        .daily-challenge {
            background: rgba(255, 215, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        .favorite-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: transparent;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
        }
        .favorites-list {
            margin-top: 20px;
        }
        .remove-fav {
            background: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            margin-left: 10px;
            cursor: pointer;
        }
        footer {
            width: 100%;
            text-align: center;
            padding: 10px 0;
            background: rgba(0,0,0,0.2);
            margin-top: auto;
            font-size: 0.8em;
        }
        .loading {
            text-align: center;
            color: #fff;
        }
    </style>
</head>
<body>
    <header>
        <h1>Tegy S: –û–±—É—á–µ–Ω–∏–µ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º</h1>
    </header>
    
    <div id="main-menu" class="section">
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:</p>
        <button class="button" onclick="showSection('english')"><i class="fas fa-book"></i> –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫</button>
        <button class="button" onclick="showSection('math')"><i class="fas fa-calculator"></i> –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</button>
        <button class="button" onclick="showSection('history')"><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è</button>
        <button class="button" onclick="showSection('programming')"><i class="fas fa-code"></i> –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
        <button class="button" onclick="showSection('profile')"><i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å</button>
        <button class="button" onclick="showSection('about')"><i class="fas fa-info-circle"></i> –û –Ω–∞—Å</button>
        <button class="button" onclick="toggleTheme()"><i class="fas fa-moon"></i> –¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
    </div>
    
    <!-- English Section (–∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ, —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º) -->
    <div id="english-section" class="section" style="display: none;">
        <h2>–£—Ä–æ–∫–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</h2>
        <input type="text" class="search-input" id="search-english" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤–∞–º..." oninput="searchFlashcards('english')">
        <div id="daily-challenge-english" class="daily-challenge" style="display: none;">
            <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—ã–∑–æ–≤</h3>
            <p id="daily-word"></p>
            <input type="text" id="daily-input" class="quiz-input" placeholder="–ü–µ—Ä–µ–≤–æ–¥">
            <button class="button" onclick="checkDaily('english')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p id="daily-result" class="result"></p>
        </div>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å:</p>
        <button class="button" onclick="showLevel('english', 'beginner')"><i class="fas fa-star"></i> Beginner</button>
        <button class="button" onclick="showLevel('english', 'intermediate')"><i class="fas fa-star-half-alt"></i> Intermediate</button>
        <button class="button" onclick="showLevel('english', 'advanced')"><i class="fas fa-star"></i> Advanced</button>
        
        <div id="english-beginner-level" class="level-section">
            <h3>Beginner: –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ —Ñ—Ä–∞–∑—ã</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-english-beginner" style="width: 0%;"></div></div>
            <div id="flashcards-english-beginner"></div>
            <div id="quizzes-english-beginner" class="quiz-container"></div>
            <div id="award-english-beginner" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('english', 'beginner')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-english-beginner" onclick="showLevel('english', 'intermediate')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('english')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="english-intermediate-level" class="level-section">
            <h3>Intermediate: –§—Ä–∞–∑—ã –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-english-intermediate" style="width: 0%;"></div></div>
            <div id="flashcards-english-intermediate"></div>
            <div id="quizzes-english-intermediate" class="quiz-container"></div>
            <div id="award-english-intermediate" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('english', 'intermediate')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-english-intermediate" onclick="showLevel('english', 'advanced')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('english')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="english-advanced-level" class="level-section">
            <h3>Advanced: –ò–¥–∏–æ–º—ã –∏ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-english-advanced" style="width: 0%;"></div></div>
            <div id="flashcards-english-advanced"></div>
            <div id="quizzes-english-advanced" class="quiz-container"></div>
            <div id="award-english-advanced" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('english', 'advanced')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-english-advanced" onclick="showMainMenu()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            <button class="button" onclick="hideLevels('english')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        <div class="favorites-list" id="favorites-english">
            <h3>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</h3>
        </div>
    </div>
    
    <!-- Math Section (–ø–æ–ª–Ω—ã–π) -->
    <div id="math-section" class="section" style="display: none;">
        <h2>–£—Ä–æ–∫–∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏</h2>
        <input type="text" class="search-input" id="search-math" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–º–∞–º..." oninput="searchFlashcards('math')">
        <div id="daily-challenge-math" class="daily-challenge" style="display: none;">
            <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—ã–∑–æ–≤</h3>
            <p id="daily-math-question"></p>
            <input type="text" id="daily-math-input" class="quiz-input" placeholder="–û—Ç–≤–µ—Ç">
            <button class="button" onclick="checkDaily('math')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p id="daily-math-result" class="result"></p>
        </div>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å:</p>
        <button class="button" onclick="showLevel('math', 'beginner')"><i class="fas fa-star"></i> Beginner</button>
        <button class="button" onclick="showLevel('math', 'intermediate')"><i class="fas fa-star-half-alt"></i> Intermediate</button>
        <button class="button" onclick="showLevel('math', 'advanced')"><i class="fas fa-star"></i> Advanced</button>
        
        <div id="math-beginner-level" class="level-section">
            <h3>Beginner: –û—Å–Ω–æ–≤—ã –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-math-beginner" style="width: 0%;"></div></div>
            <div id="flashcards-math-beginner"></div>
            <div id="quizzes-math-beginner" class="quiz-container"></div>
            <div id="award-math-beginner" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('math', 'beginner')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-math-beginner" onclick="showLevel('math', 'intermediate')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('math')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="math-intermediate-level" class="level-section">
            <h3>Intermediate: –ì–µ–æ–º–µ—Ç—Ä–∏—è –∏ –∞–ª–≥–µ–±—Ä–∞</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-math-intermediate" style="width: 0%;"></div></div>
            <div id="flashcards-math-intermediate"></div>
            <div id="quizzes-math-intermediate" class="quiz-container"></div>
            <div id="award-math-intermediate" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('math', 'intermediate')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-math-intermediate" onclick="showLevel('math', 'advanced')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('math')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="math-advanced-level" class="level-section">
            <h3>Advanced: –ö–∞–ª—å–∫—É–ª—é—Å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-math-advanced" style="width: 0%;"></div></div>
            <div id="flashcards-math-advanced"></div>
            <div id="quizzes-math-advanced" class="quiz-container"></div>
            <div id="award-math-advanced" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('math', 'advanced')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-math-advanced" onclick="showMainMenu()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            <button class="button" onclick="hideLevels('math')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        <div class="favorites-list" id="favorites-math">
            <h3>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</h3>
        </div>
    </div>
    
    <!-- History Section (–ø–æ–ª–Ω—ã–π) -->
    <div id="history-section" class="section" style="display: none;">
        <h2>–£—Ä–æ–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏</h2>
        <input type="text" class="search-input" id="search-history" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å–æ–±—ã—Ç–∏—è–º..." oninput="searchFlashcards('history')">
        <div id="daily-challenge-history" class="daily-challenge" style="display: none;">
            <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—ã–∑–æ–≤</h3>
            <p id="daily-history-question"></p>
            <input type="text" id="daily-history-input" class="quiz-input" placeholder="–û—Ç–≤–µ—Ç">
            <button class="button" onclick="checkDaily('history')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p id="daily-history-result" class="result"></p>
        </div>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å:</p>
        <button class="button" onclick="showLevel('history', 'beginner')"><i class="fas fa-star"></i> Beginner</button>
        <button class="button" onclick="showLevel('history', 'intermediate')"><i class="fas fa-star-half-alt"></i> Intermediate</button>
        <button class="button" onclick="showLevel('history', 'advanced')"><i class="fas fa-star"></i> Advanced</button>
        
        <div id="history-beginner-level" class="level-section">
            <h3>Beginner: –î—Ä–µ–≤–Ω–∏–π –º–∏—Ä</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-history-beginner" style="width: 0%;"></div></div>
            <div id="flashcards-history-beginner"></div>
            <div id="quizzes-history-beginner" class="quiz-container"></div>
            <div id="award-history-beginner" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('history', 'beginner')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-history-beginner" onclick="showLevel('history', 'intermediate')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('history')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="history-intermediate-level" class="level-section">
            <h3>Intermediate: –°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-history-intermediate" style="width: 0%;"></div></div>
            <div id="flashcards-history-intermediate"></div>
            <div id="quizzes-history-intermediate" class="quiz-container"></div>
            <div id="award-history-intermediate" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('history', 'intermediate')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-history-intermediate" onclick="showLevel('history', 'advanced')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('history')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="history-advanced-level" class="level-section">
            <h3>Advanced: –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-history-advanced" style="width: 0%;"></div></div>
            <div id="flashcards-history-advanced"></div>
            <div id="quizzes-history-advanced" class="quiz-container"></div>
            <div id="award-history-advanced" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('history', 'advanced')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-history-advanced" onclick="showMainMenu()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            <button class="button" onclick="hideLevels('history')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        <div class="favorites-list" id="favorites-history">
            <h3>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</h3>
        </div>
    </div>

    <!-- Programming Section (–Ω–æ–≤—ã–π) -->
    <div id="programming-section" class="section" style="display: none;">
        <h2>–£—Ä–æ–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
        <input type="text" class="search-input" id="search-programming" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–µ—Ä–º–∏–Ω–∞–º..." oninput="searchFlashcards('programming')">
        <div id="daily-challenge-programming" class="daily-challenge" style="display: none;">
            <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—ã–∑–æ–≤</h3>
            <p id="daily-programming-question"></p>
            <input type="text" id="daily-programming-input" class="quiz-input" placeholder="–û—Ç–≤–µ—Ç">
            <button class="button" onclick="checkDaily('programming')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p id="daily-programming-result" class="result"></p>
        </div>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å:</p>
        <button class="button" onclick="showLevel('programming', 'beginner')"><i class="fas fa-star"></i> Beginner</button>
        <button class="button" onclick="showLevel('programming', 'intermediate')"><i class="fas fa-star-half-alt"></i> Intermediate</button>
        <button class="button" onclick="showLevel('programming', 'advanced')"><i class="fas fa-star"></i> Advanced</button>
        
        <div id="programming-beginner-level" class="level-section">
            <h3>Beginner: –û—Å–Ω–æ–≤—ã</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-programming-beginner" style="width: 0%;"></div></div>
            <div id="flashcards-programming-beginner"></div>
            <div id="quizzes-programming-beginner" class="quiz-container"></div>
            <div id="award-programming-beginner" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('programming', 'beginner')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-programming-beginner" onclick="showLevel('programming', 'intermediate')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('programming')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="programming-intermediate-level" class="level-section">
            <h3>Intermediate: –¶–∏–∫–ª—ã –∏ —É—Å–ª–æ–≤–∏—è</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-programming-intermediate" style="width: 0%;"></div></div>
            <div id="flashcards-programming-intermediate"></div>
            <div id="quizzes-programming-intermediate" class="quiz-container"></div>
            <div id="award-programming-intermediate" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('programming', 'intermediate')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-programming-intermediate" onclick="showLevel('programming', 'advanced')">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" onclick="hideLevels('programming')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        
        <div id="programming-advanced-level" class="level-section">
            <h3>Advanced: OOP –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã</h3>
            <div class="progress-bar"><div class="progress-fill" id="progress-programming-advanced" style="width: 0%;"></div></div>
            <div id="flashcards-programming-advanced"></div>
            <div id="quizzes-programming-advanced" class="quiz-container"></div>
            <div id="award-programming-advanced" style="display: none;"><span class="award">üèÜ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</span></div>
            <button class="button" onclick="repeatLevel('programming', 'advanced')">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            <button class="button" style="display: none;" id="next-programming-advanced" onclick="showMainMenu()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            <button class="button" onclick="hideLevels('programming')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–≤–Ω—è–º</button>
        </div>
        <div class="favorites-list" id="favorites-programming">
            <h3>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</h3>
        </div>
    </div>
    
    <div id="profile-section" class="section profile-section" style="display: none;">
        <h2>–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h2>
        <p>–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º:</p>
        <ul id="profile-progress"></ul>
        <p>–ó–Ω–∞—á–∫–∏:</p>
        <div id="profile-badges"></div>
        <p>–°–µ—Ä–∏—è –¥–Ω–µ–π: <span id="streak-counter" class="streak">0</span></p>
        <button class="button" onclick="shareProgress()"><i class="fas fa-share"></i> –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º</button>
        <button class="button" onclick="showMainMenu()">–ù–∞–∑–∞–¥</button>
    </div>
    
    <div id="about-section" class="section" style="display: none;">
        <h2>–û –Ω–∞—Å</h2>
        <p class="about-text">Tegcompany ‚Äî –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –≤ –†–µ—Å–ø—É–±–ª–∏–∫–µ –ë–µ–ª–∞—Ä—É—Å—å –Æ—Ä–∫–µ–≤–∏—á–µ–º –ê—Ä—Ç—ë–º–æ–º –ò–≥–æ—Ä–µ–≤–∏—á–µ–º. –° –º–æ–º–µ–Ω—Ç–∞ —Å–≤–æ–µ–≥–æ –æ—Å–Ω–æ–≤–∞–Ω–∏—è Tegcompany —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–ª–∞—Å—å –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –Ω–∞—á–∞–≤ —Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤—ã—Ö —á–∞—Ç-–±–æ—Ç–æ–≤ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ ‚Äî Tegych P –∏ Beeprav P. –≠—Ç–∏ –ø—Ä–æ–µ–∫—Ç—ã —Å—Ç–∞–ª–∏ –æ—Ç–ø—Ä–∞–≤–Ω–æ–π —Ç–æ—á–∫–æ–π –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏, –∑–∞–ª–æ–∂–∏–≤ –æ—Å–Ω–æ–≤—É –¥–ª—è –±—É–¥—É—â–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤.</p>
        <button class="button" onclick="showMainMenu()">–ù–∞–∑–∞–¥</button>
    </div>
    
    <footer>
        &copy; 2025 Tegcompany. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
    </footer>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        const initData = tg.initDataUnsafe;
        if (!initData || !initData.user) {
            document.body.innerHTML = '<p style="color: white; text-align: center;">–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram!</p>';
        } else {
            tg.ready();
            tg.MainButton.text = '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é';
            tg.MainButton.onClick(showMainMenu);
            tg.MainButton.show();
            tg.expand();
            tg.BackButton.onClick(showMainMenu);
            tg.BackButton.show();
        }

        // –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–æ–≤
        const subjects = {
            english: {
                beginner: {
                    flashcards: [
                        { word: 'Apple', translation: '–Ø–±–ª–æ–∫–æ', example: 'I eat an apple every day.', img: 'https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=300', fact: 'Apple ‚Äî —ç—Ç–æ —Ç–∞–∫–∂–µ –∫–æ–º–ø–∞–Ω–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –°—Ç–∏–≤–æ–º –î–∂–æ–±—Å–æ–º.' },
                        { word: 'Banana', translation: '–ë–∞–Ω–∞–Ω', example: 'Bananas are yellow.', img: 'https://images.unsplash.com/photo-1571771894821-ce9b6c276b63?w=300', fact: '–ë–∞–Ω–∞–Ω—ã ‚Äî —ç—Ç–æ —è–≥–æ–¥—ã!' },
                        { word: 'Car', translation: '–ú–∞—à–∏–Ω–∞', example: 'I drive a car.', img: 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=300', fact: '–ü–µ—Ä–≤–∞—è –º–∞—à–∏–Ω–∞ –±—ã–ª–∞ –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∞ –≤ 1886 –≥–æ–¥—É.' },
                        { word: 'Dog', translation: '–°–æ–±–∞–∫–∞', example: 'The dog barks.', img: 'https://images.unsplash.com/photo-1534361960057-1988672b3f2f?w=300', fact: '–°–æ–±–∞–∫–∏ ‚Äî –ª—É—á—à–∏–µ –¥—Ä—É–∑—å—è —á–µ–ª–æ–≤–µ–∫–∞.' },
                        { word: 'House', translation: '–î–æ–º', example: 'This is my house.', img: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=300', fact: '–°—Ä–µ–¥–Ω–∏–π –¥–æ–º –∏–º–µ–µ—Ç 3 –∫–æ–º–Ω–∞—Ç—ã.' }
                    ],
                    quizzes: [
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Dog"', answer: '—Å–æ–±–∞–∫–∞', options: ['–∫–æ—à–∫–∞', '—Å–æ–±–∞–∫–∞', '–ø—Ç–∏—Ü–∞', '—Ä—ã–±–∞'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Thank you"', answer: '—Å–ø–∞—Å–∏–±–æ', options: ['–ø—Ä–∏–≤–µ—Ç', '—Å–ø–∞—Å–∏–±–æ', '–ø–æ–∫–∞', '–¥–∞'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Hello"', answer: '–ø—Ä–∏–≤–µ—Ç', options: ['–ø–æ–∫–∞', '–ø—Ä–∏–≤–µ—Ç', '–¥–∞', '–Ω–µ—Ç'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Water"', answer: '–≤–æ–¥–∞', options: ['–æ–≥–æ–Ω—å', '–≤–æ–¥–∞', '–∑–µ–º–ª—è', '–≤–æ–∑–¥—É—Ö'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Book"', answer: '–∫–Ω–∏–≥–∞', options: ['—Ñ–∏–ª—å–º', '–∫–Ω–∏–≥–∞', '–ø–µ—Å–Ω—è', '–∏–≥—Ä–∞'] }
                    ],
                    video: 'dQw4w9WgXcQ'
                },
                intermediate: {
                    flashcards: [
                        { word: 'Meeting', translation: '–í—Å—Ç—Ä–µ—á–∞', example: 'We have a meeting at 10 AM.', img: 'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=300', fact: 'Meetings can be virtual now.' },
                        { word: 'Computer', translation: '–ö–æ–º–ø—å—é—Ç–µ—Ä', example: 'I use a computer for work.', img: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300', fact: 'First computer was ENIAC in 1945.' },
                        { word: 'Friend', translation: '–î—Ä—É–≥', example: 'She is my best friend.', img: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300', fact: 'Friendships last longer than romance.' },
                        { word: 'Travel', translation: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ', example: 'I love to travel abroad.', img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300', fact: 'Travel broadens the mind.' },
                        { word: 'Music', translation: '–ú—É–∑—ã–∫–∞', example: 'I listen to music every day.', img: 'https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=300', fact: 'Music therapy heals the soul.' }
                    ],
                    quizzes: [
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Meeting"', answer: '–≤—Å—Ç—Ä–µ—á–∞', options: ['–ø—Ä–∞–∑–¥–Ω–∏–∫', '–≤—Å—Ç—Ä–µ—á–∞', '—Ä–∞–±–æ—Ç–∞', '–µ–¥–∞'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Computer"', answer: '–∫–æ–º–ø—å—é—Ç–µ—Ä', options: ['—Ç–µ–ª–µ—Ñ–æ–Ω', '–∫–æ–º–ø—å—é—Ç–µ—Ä', '–∫–Ω–∏–≥–∞', '–º–∞—à–∏–Ω–∞'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Friend"', answer: '–¥—Ä—É–≥', options: ['–≤—Ä–∞–≥', '–¥—Ä—É–≥', '—Å–µ–º—å—è', '—É—á–∏—Ç–µ–ª—å'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Travel"', answer: '–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ', options: ['—Ä–∞–±–æ—Ç–∞', '–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ', '—Å–æ–Ω', '–µ–¥–∞'] },
                        { question: '–ü–µ—Ä–µ–≤–µ–¥–∏ "Music"', answer: '–º—É–∑—ã–∫–∞', options: ['—Ç–∞–Ω–µ—Ü', '–º—É–∑—ã–∫–∞', '—Å–ø–æ—Ä—Ç', '–∏—Å–∫—É—Å—Å—Ç–≤–æ'] }
                    ],
                    video: 'M7lc1UVf-VE'
                },
                advanced: {
                    flashcards: [
                        { word: 'Idiom: Break a leg', translation: '–£–¥–∞—á–∏!', example: 'Break a leg on your exam!', img: 'https://images.unsplash.com/photo-1544965888-5e92e1e9e9e1?w=300', fact: 'This idiom comes from theater.' },
                        { word: 'Passive voice', translation: '–ü–∞—Å—Å–∏–≤–Ω—ã–π –∑–∞–ª–æ–≥', example: 'The book was read by me.', img: 'https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=300', fact: 'Used for emphasis on action.' },
                        { word: 'Metaphor', translation: '–ú–µ—Ç–∞—Ñ–æ—Ä–∞', example: 'Time is money.', img: 'https://images.unsplash.com/photo-1549497538-da9d8ec99e97?w=300', fact: 'A figure of speech without "like".' },
                        { word: 'Conditional', translation: '–£—Å–ª–æ–≤–Ω–æ–µ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–µ', example: 'If it rains, I will stay home.', img: 'https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=300', fact: 'Has zero, first, second, third types.' },
                        { word: 'Phrasal verb: Give up', translation: '–°–¥–∞–≤–∞—Ç—å—Å—è', example: 'Don\'t give up on your dreams.', img: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=300', fact: 'Common in English speech.' }
                    ],
                    quizzes: [
                        { question: '–ß—Ç–æ –∑–Ω–∞—á–∏—Ç "Break a leg"?', answer: '—É–¥–∞—á–∏', options: ['—Å–ª–æ–º–∞—Ç—å –Ω–æ–≥—É', '—É–¥–∞—á–∏', '–±–µ–∂–∞—Ç—å', '–ø–∞–¥–∞—Ç—å'] },
                        { question: '–ü—Ä–∏–º–µ—Ä –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –∑–∞–ª–æ–≥–∞?', answer: '–ö–Ω–∏–≥–∞ –±—ã–ª–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–∞', options: ['–Ø —á–∏—Ç–∞—é –∫–Ω–∏–≥—É', '–ö–Ω–∏–≥–∞ –±—ã–ª–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–∞', '–ö–Ω–∏–≥–∞ —á–∏—Ç–∞–µ—Ç –º–µ–Ω—è', '–Ø –ø—Ä–æ—á–∏—Ç–∞–ª –∫–Ω–∏–≥—É'] },
                        { question: '–ß—Ç–æ —Ç–∞–∫–æ–µ –º–µ—Ç–∞—Ñ–æ—Ä–∞?', answer: '—Ñ–∏–≥—É—Ä–∞ —Ä–µ—á–∏', options: ['–µ–¥–∞', '—Ñ–∏–≥—É—Ä–∞ —Ä–µ—á–∏', '—Ü–≤–µ—Ç', '—á–∏—Å–ª–æ'] },
                        { question: '–ü—Ä–∏–º–µ—Ä —É—Å–ª–æ–≤–Ω–æ–≥–æ?', answer: '–µ—Å–ª–∏ –¥–æ–∂–¥—å, –æ—Å—Ç–∞–Ω—É—Å—å –¥–æ–º–∞', options: ['–Ø –∏–¥—É –¥–æ–º–æ–π', '–µ—Å–ª–∏ –¥–æ–∂–¥—å, –æ—Å—Ç–∞–Ω—É—Å—å –¥–æ–º–∞', '–î–æ–º –º–æ–∫—Ä—ã–π', '–î–æ–∂–¥—å –∏–¥–µ—Ç'] },
                        { question: 'Give up –∑–Ω–∞—á–∏—Ç?', answer: '—Å–¥–∞–≤–∞—Ç—å—Å—è', options: ['–¥–∞–≤–∞—Ç—å –≤–≤–µ—Ä—Ö', '—Å–¥–∞–≤–∞—Ç—å—Å—è', '–ø–æ–ª—É—á–∞—Ç—å', '–±—Ä–∞—Ç—å'] }
                    ],
                    video: '9bZkp7q19f0'
                }
            },
            math: {
                beginner: {
                    flashcards: [
                        { term: 'Addition', explanation: '–°–ª–æ–∂–µ–Ω–∏–µ —á–∏—Å–µ–ª', example: '2 + 3 = 5', img: 'https://images.unsplash.com/photo-1635372720855-3d7777c4ff21?w=300', fact: '–°–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω–æ: a + b = b + a' },
                        { term: 'Subtraction', explanation: '–í—ã—á–∏—Ç–∞–Ω–∏–µ', example: '5 - 2 = 3', img: 'https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=300', fact: '–í—ã—á–∏—Ç–∞–Ω–∏–µ –Ω–µ –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω–æ.' },
                        { term: 'Multiplication', explanation: '–£–º–Ω–æ–∂–µ–Ω–∏–µ', example: '4 * 2 = 8', img: 'https://images.unsplash.com/photo-1585964481499-2be451621bb5?w=300', fact: '–£–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ 0 = 0.' },
                        { term: 'Division', explanation: '–î–µ–ª–µ–Ω–∏–µ', example: '6 / 2 = 3', img: 'https://images.unsplash.com/photo-1567492031773-4f5f8e9c996b?w=300', fact: '–î–µ–ª–µ–Ω–∏–µ –Ω–∞ 0 –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.' },
                        { term: 'Number', explanation: '–ß–∏—Å–ª–æ', example: '5 is a prime number.', img: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=300', fact: '–ß–∏—Å–ª–∞ –±—ã–≤–∞—é—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–º–∏, —Ü–µ–ª—ã–º–∏ –∏ —Ç.–¥.' }
                    ],
                    quizzes: [
                        { question: '2 + 2 = ?', answer: '4', options: ['3', '4', '5', '6'] },
                        { question: '5 - 3 = ?', answer: '2', options: ['1', '2', '3', '4'] },
                        { question: '4 * 3 = ?', answer: '12', options: ['10', '12', '15', '8'] },
                        { question: '8 / 2 = ?', answer: '4', options: ['3', '4', '5', '2'] },
                        { question: '–ß—Ç–æ —Ç–∞–∫–æ–µ 1 + 1?', answer: '2', options: ['1', '2', '3', '0'] }
                    ],
                    video: 'M7lc1UVf-VE'
                },
                intermediate: {
                    flashcards: [
                        { term: 'Equation', explanation: '–£—Ä–∞–≤–Ω–µ–Ω–∏–µ', example: 'x + 2 = 5, x=3', img: 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=300', fact: '–†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è ‚Äî –Ω–∞–π—Ç–∏ x.' },
                        { term: 'Triangle', explanation: '–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫', example: '–°—É–º–º–∞ —É–≥–ª–æ–≤ = 180¬∞', img: 'https://images.unsplash.com/photo-1570549717069-33bed1ebafed?w=300', fact: '–í–∏–¥—ã: —Ä–∞–≤–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π, –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π.' },
                        { term: 'Variable', explanation: '–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è', example: 'Let x = 10', img: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=300', fact: '–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–ª–≥–µ–±—Ä–µ.' },
                        { term: 'Area', explanation: '–ü–ª–æ—â–∞–¥—å', example: '–ü–ª–æ—â–∞–¥—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ = –¥–ª–∏–Ω–∞ * —à–∏—Ä–∏–Ω–∞', img: 'https://images.unsplash.com/photo-1549576490-b0b4831e8f1f?w=300', fact: '–î–ª—è –∫—Ä—É–≥–∞: œÄr¬≤.' },
                        { term: 'Fraction', explanation: '–î—Ä–æ–±—å', example: '1/2 + 1/2 = 1', img: 'https://images.unsplash.com/photo-1581287053821-6927a274775e?w=300', fact: '–î—Ä–æ–±–∏ —É–ø—Ä–æ—â–∞—é—Ç—Å—è.' }
                    ],
                    quizzes: [
                        { question: '–†–µ—à–∏—Ç—å x + 3 = 7', answer: '4', options: ['3', '4', '5', '10'] },
                        { question: '–°—É–º–º–∞ —É–≥–ª–æ–≤ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞?', answer: '180', options: ['90', '180', '360', '270'] },
                        { question: '–ü–ª–æ—â–∞–¥—å 2x3 –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞?', answer: '6', options: ['5', '6', '8', '1'] },
                        { question: '1/2 * 2 = ?', answer: '1', options: ['0.5', '1', '2', '0'] },
                        { question: '–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è?', answer: 'x –∏–ª–∏ y', options: ['—á–∏—Å–ª–æ', 'x –∏–ª–∏ y', '–æ–ø–µ—Ä–∞—Ü–∏—è', '—Ñ–∏–≥—É—Ä–∞'] }
                    ],
                    video: 'dQw4w9WgXcQ'
                },
                advanced: {
                    flashcards: [
                        { term: 'Derivative', explanation: '–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è', example: 'd/dx (x¬≤) = 2x', img: 'https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=300', fact: '–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–∏–∑–∏–∫–µ.' },
                        { term: 'Integral', explanation: '–ò–Ω—Ç–µ–≥—Ä–∞–ª', example: '‚à´x dx = (1/2)x¬≤', img: 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=300', fact: '–û–±—Ä–∞—Ç–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π.' },
                        { term: 'Mean', explanation: '–°—Ä–µ–¥–Ω–µ–µ', example: '–°—Ä–µ–¥–Ω–µ–µ [1,2,3] = 2', img: 'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=300', fact: '–í —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ.' },
                        { term: 'Probability', explanation: '–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å', example: 'P(heads) = 0.5', img: 'https://images.unsplash.com/photo-1550751827-4f5f8e9c996b?w=300', fact: '–û—Ç 0 –¥–æ 1.' },
                        { term: 'Limit', explanation: '–ü—Ä–µ–¥–µ–ª', example: 'lim x‚Üí0 sin(x)/x = 1', img: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=300', fact: '–û—Å–Ω–æ–≤—ã –∫–∞–ª—å–∫—É–ª—é—Å–∞.' }
                    ],
                    quizzes: [
                        { question: '–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è x¬≤?', answer: '2x', options: ['x', '2x', 'x¬≤', '0'] },
                        { question: '–ò–Ω—Ç–µ–≥—Ä–∞–ª x?', answer: '(1/2)x¬≤', options: ['x', '(1/2)x¬≤', 'x¬≥', '2x'] },
                        { question: '–°—Ä–µ–¥–Ω–µ–µ [1,3,5]?', answer: '3', options: ['2', '3', '4', '9'] },
                        { question: '–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º–æ–Ω–µ—Ç—ã?', answer: '0.5', options: ['0', '0.5', '1', '2'] },
                        { question: '–ü—Ä–µ–¥–µ–ª sin(x)/x –ø—Ä–∏ 0?', answer: '1', options: ['0', '1', '‚àû', 'sin(0)'] }
                    ],
                    video: '9bZkp7q19f0'
                }
            },
            history: {
                beginner: {
                    flashcards: [
                        { event: 'Ancient Egypt', explanation: '–¶–∏–≤–∏–ª–∏–∑–∞—Ü–∏—è —Ñ–∞—Ä–∞–æ–Ω–æ–≤', example: '–ü–æ—Å—Ç—Ä–æ–∏–ª–∏ –ø–∏—Ä–∞–º–∏–¥—ã', img: 'https://images.unsplash.com/photo-1506354660007-9d744c9d0c0c?w=300', fact: '–ü–∏—Ä–∞–º–∏–¥—ã —Å—Ç–æ—è—Ç –±–æ–ª–µ–µ 4500 –ª–µ—Ç.' },
                        { event: 'Roman Empire', explanation: '–ò–º–ø–µ—Ä–∏—è –¶–µ–∑–∞—Ä—è', example: '–°—Ç—Ä–æ–∏–ª–∏ –∞–∫–≤–µ–¥—É–∫–∏', img: 'https://images.unsplash.com/photo-1510414842594-a61c69b5ae57?w=300', fact: '–î–ª–∏–ª–∞—Å—å 500 –ª–µ—Ç.' },
                        { event: 'Greek Philosophy', explanation: '–§–∏–ª–æ—Å–æ—Ñ–∏—è –°–æ–∫—Ä–∞—Ç–∞', example: '–î–µ–º–æ–∫—Ä–∞—Ç–∏—è –≤ –ê—Ñ–∏–Ω–∞—Ö', img: 'https://images.unsplash.com/photo-1578632354571-0de2c52e5563?w=300', fact: '–°–æ–∫—Ä–∞—Ç: "–Ø –∑–Ω–∞—é, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—é".' },
                        { event: 'Stone Age', explanation: '–ö–∞–º–µ–Ω–Ω—ã–π –≤–µ–∫', example: '–û—Ä—É–¥–∏—è –∏–∑ –∫–∞–º–Ω—è', img: 'https://images.unsplash.com/photo-1570549717069-33bed1ebafed?w=300', fact: '–î–ª–∏–ª—Å—è –º–∏–ª–ª–∏–æ–Ω—ã –ª–µ—Ç.' },
                        { event: 'Invention of Wheel', explanation: '–ò–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞', example: '–û–∫–æ–ª–æ 3500 –≥. –¥–æ –Ω.—ç.', img: 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=300', fact: '–ò–∑–º–µ–Ω–ª–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç.' }
                    ],
                    quizzes: [
                        { question: '–ö—Ç–æ –ø–æ—Å—Ç—Ä–æ–∏–ª –ø–∏—Ä–∞–º–∏–¥—ã?', answer: '–µ–≥–∏–ø—Ç—è–Ω–µ', options: ['—Ä–∏–º–ª—è–Ω–µ', '–≥—Ä–µ–∫–∏', '–µ–≥–∏–ø—Ç—è–Ω–µ', '–º–∞–π—è'] },
                        { question: '–°—Ç–æ–ª–∏—Ü–∞ –†–∏–º—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏?', answer: '—Ä–æ–º–∞', options: ['–∞—Ç–µ–Ω—ã', '—Ä–æ–º–∞', '—Å–ø–∞—Ä—Ç–∞', '–µ–≥–∏–ø–µ—Ç'] },
                        { question: '–§–∏–ª–æ—Å–æ—Ñ: "–ü–æ–∑–Ω–∞–π —Å–µ–±—è"?', answer: '—Å–æ–∫—Ä–∞—Ç', options: ['–ø–ª–∞—Ç–æ–Ω', '—Å–æ–∫—Ä–∞—Ç', '–∞—Ä–∏—Å—Ç–æ—Ç–µ–ª—å', '–≥–µ—Ä–∞–∫–ª–∏—Ç'] },
                        { question: '–ö–∞–º–µ–Ω–Ω—ã–π –≤–µ–∫ ‚Äî —ç—Ç–æ?', answer: '–¥—Ä–µ–≤–Ω–∏–π –ø–µ—Ä–∏–æ–¥', options: ['–±—É–¥—É—â–µ–µ', '–¥—Ä–µ–≤–Ω–∏–π –ø–µ—Ä–∏–æ–¥', '—Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ', '—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å'] },
                        { question: '–ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–µ–ª–∏ –∫–æ–ª–µ—Å–æ?', answer: '3500 –¥–æ –Ω.—ç.', options: ['1000 –Ω.—ç.', '3500 –¥–æ –Ω.—ç.', '500 –Ω.—ç.', '0'] }
                    ],
                    video: '9bZkp7q19f0'
                },
                intermediate: {
                    flashcards: [
                        { event: 'Middle Ages', explanation: '–°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ', example: '–†—ã—Ü–∞—Ä–∏ –∏ –∑–∞–º–∫–∏', img: 'https://images.unsplash.com/photo-1510414842594-a61c69b5ae57?w=300', fact: '–î–ª–∏–ª–æ—Å—å 1000 –ª–µ—Ç.' },
                        { event: 'Renaissance', explanation: '–í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ', example: '–î–∞ –í–∏–Ω—á–∏ –∏ –ú–∏–∫–µ–ª–∞–Ω–¥–∂–µ–ª–æ', img: 'https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=300', fact: '–ù–∞—á–∞–ª–æ—Å—å –≤ –ò—Ç–∞–ª–∏–∏.' },
                        { event: 'Crusades', explanation: '–ö—Ä–µ—Å—Ç–æ–≤—ã–µ –ø–æ—Ö–æ–¥—ã', example: '1095‚Äì1291 –≥–≥.', img: 'https://images.unsplash.com/photo-1578632354571-0de2c52e5563?w=300', fact: '–ó–∞ –°–≤—è—Ç—É—é –∑–µ–º–ª—é.' },
                        { event: 'Black Death', explanation: '–ß—ë—Ä–Ω–∞—è —Å–º–µ—Ä—Ç—å', example: '–ß—É–º–∞ 1347 –≥.', img: 'https://images.unsplash.com/photo-1550751827-4f5f8e9c996b?w=300', fact: '–£–±–∏–ª–∞ 30‚Äì60% –ï–≤—Ä–æ–ø—ã.' },
                        { event: 'Feudalism', explanation: '–§–µ–æ–¥–∞–ª–∏–∑–º', example: '–ö–æ—Ä–æ–ª–∏, –≤–∞—Å—Å–∞–ª—ã, –∫—Ä–µ—Å—Ç—å—è–Ω–µ', img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300', fact: '–°–∏—Å—Ç–µ–º–∞ –∑–µ–º–µ–ª—å.' }
                    ],
                    quizzes: [
                        { question: '–ü–µ—Ä–∏–æ–¥ —Ä—ã—Ü–∞—Ä–µ–π?', answer: '—Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ', options: ['–¥—Ä–µ–≤–Ω–∏–π –º–∏—Ä', '—Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ', '–Ω–æ–≤–æ–µ –≤—Ä–µ–º—è', '–±—É–¥—É—â–µ–µ'] },
                        { question: '–•—É–¥–æ–∂–Ω–∏–∫ –†–µ–Ω–µ—Å—Å–∞–Ω—Å–∞?', answer: '–¥–∞ –≤–∏–Ω—á–∏', options: ['—Å–æ–∫—Ä–∞—Ç', '–¥–∞ –≤–∏–Ω—á–∏', '—Ü–µ–∑–∞—Ä—å', '–∫–æ–ª—É–º–±'] },
                        { question: '–ö—Ä–µ—Å—Ç–æ–≤—ã–µ –ø–æ—Ö–æ–¥—ã –∑–∞?', answer: '—Å–≤—è—Ç—É—é –∑–µ–º–ª—é', options: ['–∑–æ–ª–æ—Ç–æ', '—Å–≤—è—Ç—É—é –∑–µ–º–ª—é', '—Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏', '–º–∏—Ä'] },
                        { question: '–ß—É–º–∞ 1347?', answer: '—á—ë—Ä–Ω–∞—è —Å–º–µ—Ä—Ç—å', options: ['–ø–∞–Ω–¥–µ–º–∏—è', '—á—ë—Ä–Ω–∞—è —Å–º–µ—Ä—Ç—å', '–≤–æ–π–Ω–∞', '–≥–æ–ª–æ–¥'] },
                        { question: '–§–µ–æ–¥–∞–ª–∏–∑–º ‚Äî —ç—Ç–æ?', answer: '—Å–∏—Å—Ç–µ–º–∞ –≤–∞—Å—Å–∞–ª–æ–≤', options: ['–¥–µ–º–æ–∫—Ä–∞—Ç–∏—è', '—Å–∏—Å—Ç–µ–º–∞ –≤–∞—Å—Å–∞–ª–æ–≤', '–∫–∞–ø–∏—Ç–∞–ª–∏–∑–º', '–∫–æ–º–º—É–Ω–∏–∑–º'] }
                    ],
                    video: 'M7lc1UVf-VE'
                },
                advanced: {
                    flashcards: [
                        { event: 'World War I', explanation: '–ü–µ—Ä–≤–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞', example: '1914‚Äì1918 –≥–≥.', img: 'https://images.unsplash.com/photo-1567492031773-4f5f8e9c996b?w=300', fact: '–£–±–∏–ª–∞ 16 –º–ª–Ω —á–µ–ª–æ–≤–µ–∫.' },
                        { event: 'Industrial Revolution', explanation: '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è', example: '1760‚Äì1840 –≥–≥.', img: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=300', fact: '–ú–∞—à–∏–Ω—ã –∏–∑–º–µ–Ω–∏–ª–∏ –º–∏—Ä.' },
                        { event: 'Cold War', explanation: '–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–π–Ω–∞', example: '1947‚Äì1991 –≥–≥.', img: 'https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=300', fact: '–°–®–ê vs –°–°–°–†.' },
                        { event: 'Fall of Berlin Wall', explanation: '–ü–∞–¥–µ–Ω–∏–µ –ë–µ—Ä–ª–∏–Ω—Å–∫–æ–π —Å—Ç–µ–Ω—ã', example: '1989 –≥.', img: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300', fact: '–ö–æ–Ω–µ—Ü —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–π–Ω—ã.' },
                        { event: 'Digital Age', explanation: '–¶–∏—Ñ—Ä–æ–≤–∞—è —ç—Ä–∞', example: '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å 1990-—Ö', img: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300', fact: '–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã –≤–µ–∑–¥–µ.' }
                    ],
                    quizzes: [
                        { question: '–ü–µ—Ä–≤–∞—è –º–∏—Ä–æ–≤–∞—è ‚Äî –≥–æ–¥—ã?', answer: '1914-1918', options: ['1939-1945', '1914-1918', '1812', '1492'] },
                        { question: '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è ‚Äî –∫–æ–≥–¥–∞?', answer: '1760-1840', options: ['1500', '1760-1840', '2000', '1900'] },
                        { question: '–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–π–Ω–∞: –∫—Ç–æ vs –∫—Ç–æ?', answer: '—Å—Å—Å—Ä vs —Å—à–∞', options: ['–∞–Ω–≥–ª–∏–∏ vs —Ñ—Ä–∞–Ω—Ü–∏–∏', '—Å—Å—Å—Ä vs —Å—à–∞', '–µ–≥–∏–ø—Ç–∞ vs –≥—Ä–µ—Ü–∏–∏', '—Ä–∏–º vs –≥—Ä–µ—Ü–∏—è'] },
                        { question: '–ü–∞–¥–µ–Ω–∏–µ —Å—Ç–µ–Ω—ã ‚Äî 1989?', answer: '–±–µ—Ä–ª–∏–Ω—Å–∫–æ–π', options: ['–∫–∏—Ç–∞–π—Å–∫–æ–π', '–±–µ—Ä–ª–∏–Ω—Å–∫–æ–π', '—Ä–∏–º—Å–∫–æ–π', '–µ–≥–∏–ø–µ—Ç—Å–∫–æ–π'] },
                        { question: '–¶–∏—Ñ—Ä–æ–≤–∞—è —ç—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å —Å?', answer: '–∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞', options: ['–∫–æ–ª–µ—Å–∞', '–∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞', '–ø–∞—Ä–æ–≤–æ–∑–∞', '–∫–Ω–∏–≥–∏'] }
                    ],
                    video: 'dQw4w9WgXcQ'
                }
            },
            programming: {
                beginner: {
                    flashcards: [
                        { term: 'Variable', explanation: '–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è', example: 'let x = 5;', img: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=300', fact: '–•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏.' },
                        { term: 'Function', explanation: '–§—É–Ω–∫—Ü–∏—è', example: 'function hello() { console.log("Hi"); }', img: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300', fact: '–ë–ª–æ–∫ –∫–æ–¥–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.' },
                        { term: 'String', explanation: '–°—Ç—Ä–æ–∫–∞', example: '"Hello World"', img: 'https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=300', fact: '–¢–µ–∫—Å—Ç –≤ –∫–∞–≤—ã—á–∫–∞—Ö.' },
                        { term: 'Number', explanation: '–ß–∏—Å–ª–æ', example: '42 –∏–ª–∏ 3.14', img: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=300', fact: '–¶–µ–ª–æ–µ –∏–ª–∏ –¥—Ä–æ–±–Ω–æ–µ.' },
                        { term: 'Console', explanation: '–ö–æ–Ω—Å–æ–ª—å', example: 'console.log("Debug");', img: 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=300', fact: '–î–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.' }
                    ],
                    quizzes: [
                        { question: '–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è?', answer: '—Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ', options: ['—Ñ—É–Ω–∫—Ü–∏—è', '—Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ', '—Å—Ç—Ä–æ–∫–∞', '—á–∏—Å–ª–æ'] },
                        { question: '–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏?', answer: 'function()', options: ['let x=5', 'function()', '"text"', '42'] },
                        { question: '–°—Ç—Ä–æ–∫–∞ –≤ JS?', answer: '"hello"', options: ['let', '"hello"', 'function', 'console'] },
                        { question: '–ß–∏—Å–ª–æ: 3.14 ‚Äî —ç—Ç–æ?', answer: '–¥—Ä–æ–±–Ω–æ–µ', options: ['—Å—Ç—Ä–æ–∫–∞', '–¥—Ä–æ–±–Ω–æ–µ', '—Ñ—É–Ω–∫—Ü–∏—è', '–∫–æ–Ω—Å–æ–ª—å'] },
                        { question: 'console.log –¥–ª—è?', answer: '–≤—ã–≤–æ–¥–∞', options: ['–≤–≤–æ–¥–∞', '–≤—ã–≤–æ–¥–∞', '—Ö—Ä–∞–Ω–µ–Ω–∏—è', '–≤—ã—á–∏—Å–ª–µ–Ω–∏—è'] }
                    ],
                    video: 'dQw4w9WgXcQ'
                },
                intermediate: {
                    flashcards: [
                        { term: 'Loop: For', explanation: '–¶–∏–∫–ª for', example: 'for(let i=0; i<5; i++) { ... }', img: 'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=300', fact: '–î–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞.' },
                        { term: 'If Statement', explanation: '–£—Å–ª–æ–≤–∏–µ if', example: 'if(x > 0) { ... }', img: 'https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=300', fact: '–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ.' },
                        { term: 'Array', explanation: '–ú–∞—Å—Å–∏–≤', example: '[1,2,3]', img: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=300', fact: '–°–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.' },
                        { term: 'While Loop', explanation: '–¶–∏–∫–ª while', example: 'while(condition) { ... }', img: 'https://images.unsplash.com/photo-1578632354571-0de2c52e5563?w=300', fact: '–ü–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ true.' },
                        { term: 'Boolean', explanation: '–õ–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–∏–ø', example: 'true –∏–ª–∏ false', img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300', fact: '–î–ª—è —É—Å–ª–æ–≤–∏–π.' }
                    ],
                    quizzes: [
                        { question: '–¶–∏–∫–ª for –¥–ª—è?', answer: '–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π', options: ['—É—Å–ª–æ–≤–∏–π', '–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π', '—Ö—Ä–∞–Ω–µ–Ω–∏—è', '—Ç–µ–∫—Å—Ç–∞'] },
                        { question: 'If –ø—Ä–æ–≤–µ—Ä—è–µ—Ç?', answer: '—É—Å–ª–æ–≤–∏–µ', options: ['—á–∏—Å–ª–æ', '—É—Å–ª–æ–≤–∏–µ', '—Å—Ç—Ä–æ–∫—É', '–º–∞—Å—Å–∏–≤'] },
                        { question: '–ú–∞—Å—Å–∏–≤: [1,2] ‚Äî —ç—Ç–æ?', answer: '—Å–ø–∏—Å–æ–∫', options: ['—á–∏—Å–ª–æ', '—Å–ø–∏—Å–æ–∫', '—Ñ—É–Ω–∫—Ü–∏—è', '—Å—Ç—Ä–æ–∫–∞'] },
                        { question: 'While –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–∫–∞?', answer: 'true', options: ['false', 'true', '0', '"stop"'] },
                        { question: 'Boolean: true/false ‚Äî –¥–ª—è?', answer: '–ª–æ–≥–∏–∫–∏', options: ['–º–∞—Ç–µ–º–∞—Ç–∏–∫–∏', '–ª–æ–≥–∏–∫–∏', '—Ç–µ–∫—Å—Ç–∞', '–≥—Ä–∞—Ñ–∏–∫–∏'] }
                    ],
                    video: 'M7lc1UVf-VE'
                },
                advanced: {
                    flashcards: [
                        { term: 'Class', explanation: '–ö–ª–∞—Å—Å (–û–û–ü)', example: 'class Dog { bark() { ... } }', img: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300', fact: '–®–∞–±–ª–æ–Ω –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤.' },
                        { term: 'Inheritance', explanation: '–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ', example: 'class Puppy extends Dog { ... }', img: 'https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=300', fact: '–ü–µ—Ä–µ–¥–∞—á–∞ —Å–≤–æ–π—Å—Ç–≤.' },
                        { term: 'Algorithm: Sort', explanation: '–ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏', example: 'Bubble sort: —Å—Ä–∞–≤–Ω–∏ –∏ –ø–æ–º–µ–Ω—è–π', img: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=300', fact: 'O(n¬≤) —Å–ª–æ–∂–Ω–æ—Å—Ç—å.' },
                        { term: 'Recursion', explanation: '–†–µ–∫—É—Ä—Å–∏—è', example: 'function factorial(n) { if(n<=1) return 1; return n * factorial(n-1); }', img: 'https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=300', fact: '–§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ–±—è.' },
                        { term: 'API', explanation: '–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è', example: 'fetch("https://api.example.com")', img: 'https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=300', fact: '–î–ª—è —Å–≤—è–∑–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.' }
                    ],
                    quizzes: [
                        { question: '–ö–ª–∞—Å—Å –≤ OOP?', answer: '—à–∞–±–ª–æ–Ω', options: ['—Ñ—É–Ω–∫—Ü–∏—è', '—à–∞–±–ª–æ–Ω', '–º–∞—Å—Å–∏–≤', '—Å—Ç—Ä–æ–∫–∞'] },
                        { question: '–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ: extends?', answer: '–¥–∞', options: ['–Ω–µ—Ç', '–¥–∞', '—Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞', '—Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏'] },
                        { question: 'Bubble sort ‚Äî —ç—Ç–æ?', answer: '—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞', options: ['–ø–æ–∏—Å–∫', '—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞', '—Ö—Ä–∞–Ω–µ–Ω–∏–µ', '–≤—ã–≤–æ–¥'] },
                        { question: '–†–µ–∫—É—Ä—Å–∏—è: —Ñ—É–Ω–∫—Ü–∏—è?', answer: '–≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ–±—è', options: ['–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è', '–≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ–±—è', '–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç', '—É–¥–∞–ª—è–µ—Ç'] },
                        { question: 'API –¥–ª—è?', answer: '—Å–≤—è–∑–∏', options: ['–≤—ã—á–∏—Å–ª–µ–Ω–∏–π', '—Å–≤—è–∑–∏', '–≥—Ä–∞—Ñ–∏–∫–∏', '—Ç–µ–∫—Å—Ç–∞'] }
                    ],
                    video: '9bZkp7q19f0'
                }
            }
        };

        // –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        let progress = JSON.parse(localStorage.getItem('tegyProgress')) || {};
        let favorites = JSON.parse(localStorage.getItem('tegyFavorites')) || {};
        let streak = parseInt(localStorage.getItem('tegyStreak')) || 0;
        let lastDaily = localStorage.getItem('tegyLastDaily') || new Date().toDateString();

        // –§—É–Ω–∫—Ü–∏–∏
        function generateFlashcards(subject, level) {
            const container = document.getElementById(`flashcards-${subject}-${level}`);
            if (!container) return;
            container.innerHTML = '<div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫...</div>';
            setTimeout(() => {
                container.innerHTML = '';
                subjects[subject][level].flashcards.forEach((card, index) => {
                    const div = document.createElement('div');
                    div.className = 'flashcard';
                    div.dataset.key = `${subject}-${level}-${index}`;
                    const term = card.word || card.term || card.event;
                    const expl = card.translation || card.explanation;
                    div.innerHTML = `
                        <button class="favorite-btn" onclick="toggleFavorite('${subject}', '${level}', ${index})" style="color: ${favorites[div.dataset.key] ? 'red' : 'black'}">‚ù§Ô∏è</button>
                        <img src="${card.img}" alt="${term}" loading="lazy">
                        <p><strong>${card.word ? 'Word' : card.term ? 'Term' : 'Event'}:</strong> ${term}</p>
                        <p><strong>${card.translation ? 'Translation' : 'Explanation'}:</strong> ${expl}</p>
                        <p><strong>Example:</strong> ${card.example}</p>
                        <p><strong>Fun Fact:</strong> ${card.fact}</p>
                        <button class="speak-btn" onclick="speakText('${term}')"><i class="fas fa-volume-up"></i></button>
                    `;
                    container.appendChild(div);
                });
                const iframe = document.createElement('iframe');
                iframe.src = `https://www.youtube.com/embed/${subjects[subject][level].video}`;
                iframe.frameBorder = '0';
                iframe.allowFullscreen = true;
                iframe.loading = 'lazy';
                container.appendChild(iframe);
            }, 500);
        }

        function generateQuizzes(subject, level) {
            const container = document.getElementById(`quizzes-${subject}-${level}`);
            if (!container) return;
            container.innerHTML = '<h3>–ö–≤–∏–∑</h3>';
            const quizzes = subjects[subject][level].quizzes;
            const shuffled = [...quizzes].sort(() => 0.5 - Math.random());
            shuffled.forEach((q, index) => {
                const id = `${subject}-${level}-q${index + 1}`;
                let optionsHtml = q.options.map(opt => 
                    `<div class="quiz-option" onclick="checkQuizOption('${id}', '${q.answer}', '${opt}', '${subject}', '${level}')">${opt}</div>`
                ).join('');
                container.innerHTML += `
                    <p>–í–æ–ø—Ä–æ—Å ${index + 1}: ${q.question}</p>
                    <div class="quiz-options">${optionsHtml}</div>
                    <p id="result-${id}" class="result"></p>
                `;
            });
        }

        function showLevel(subject, level) {
            hideLevels(subject);
            const section = document.getElementById(`${subject}-${level}-level`);
            if (section) section.style.display = 'block';
            generateFlashcards(subject, level);
            generateQuizzes(subject, level);
            updateProgress(subject, level);
            showDailyChallenge(subject);
            window.scrollTo(0, 0);
        }

        function toggleTheme() {
            document.body.classList.toggle('dark');
            localStorage.setItem('tegyTheme', document.body.classList.contains('dark') ? 'dark' : 'light');
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
            const targetSection = document.getElementById(`${sectionId}-section`);
            if (targetSection) targetSection.style.display = 'block';
            tg.MainButton.show();
            if (sectionId !== 'profile' && sectionId !== 'about') hideLevels(sectionId);
            if (sectionId === 'profile') updateProfile();
            if (subjects[sectionId]) updateFavorites(sectionId);
        }

        function showMainMenu() {
            document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
            document.getElementById('main-menu').style.display = 'block';
            tg.MainButton.hide();
            checkStreak();
        }

        function hideLevels(subject) {
            document.querySelectorAll(`#${subject}-section .level-section`).forEach(sec => sec.style.display = 'none');
        }

        function repeatLevel(subject, level) {
            const key = `${subject}-${level}`;
            progress[key] = 0;
            localStorage.setItem('tegyProgress', JSON.stringify(progress));
            showLevel(subject, level);
        }

        function updateProgress(subject, level) {
            const key = `${subject}-${level}`;
            if (!progress[key]) progress[key] = 0;
            const fill = document.getElementById(`progress-${key.replace('-', '-')}`);
            if (!fill) return;
            const quizCount = subjects[subject][level].quizzes.length;
            const percent = Math.min((progress[key] / quizCount) * 100, 100);
            fill.style.width = `${percent}%`;
            if (percent >= 100) {
                document.getElementById(`award-${key.replace('-', '-')}`).style.display = 'block';
                document.getElementById(`next-${key.replace('-', '-')}`).style.display = 'block';
                tg.showAlert('–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω! üéâ');
            }
            localStorage.setItem('tegyProgress', JSON.stringify(progress));
        }

        function searchFlashcards(subject) {
            const searchTerm = document.getElementById(`search-${subject}`).value.toLowerCase();
            document.querySelectorAll(`#${subject}-section .flashcard`).forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        }

        function checkQuizOption(quizId, correctAnswer, selected, subject, level) {
            const result = document.getElementById(`result-${quizId}`);
            if (!result) return;
            const lowerSelected = selected.toLowerCase().trim();
            const lowerCorrect = correctAnswer.toLowerCase().trim();
            if (lowerSelected === lowerCorrect) {
                result.innerText = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ';
                result.style.color = 'green';
                tg.HapticFeedback.impactOccurred('heavy');
                progress[`${subject}-${level}`] = (progress[`${subject}-${level}`] || 0) + 1;
                updateProgress(subject, level);
                createConfetti();
            } else {
                result.innerText = `–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correctAnswer}`;
                result.style.color = 'red';
                tg.HapticFeedback.notificationOccurred('error');
            }
        }

        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDuration = `${Math.random() * 2 + 1}s`;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
            }
        }

        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                speechSynthesis.speak(utterance);
            } else {
                tg.showAlert('–ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ.');
            }
        }

        function toggleFavorite(subject, level, index) {
            const key = `${subject}-${level}-${index}`;
            favorites[key] = !favorites[key];
            localStorage.setItem('tegyFavorites', JSON.stringify(favorites));
            updateFavorites(subject);
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏
            const btn = event.target;
            btn.style.color = favorites[key] ? 'red' : 'black';
        }

        function updateFavorites(subject) {
            const container = document.getElementById(`favorites-${subject}`);
            if (!container) return;
            container.innerHTML = '<h3>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</h3>';
            let hasFavorites = false;
            Object.keys(favorites).forEach(key => {
                if (favorites[key] && key.startsWith(subject)) {
                    hasFavorites = true;
                    const [s, l, i] = key.split('-');
                    const card = subjects[s][l].flashcards[parseInt(i)];
                    const div = document.createElement('div');
                    div.className = 'flashcard';
                    div.innerHTML = `
                        <p><strong>${card.word || card.term || card.event}</strong>: ${card.translation || card.explanation}</p>
                        <p>Example: ${card.example}</p>
                        <button class="remove-fav" onclick="toggleFavorite('${s}', '${l}', ${i})">–£–¥–∞–ª–∏—Ç—å</button>
                    `;
                    container.appendChild(div);
                }
            });
            if (!hasFavorites) container.innerHTML += '<p>–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫.</p>';
        }
        function showDailyChallenge(subject) {
            const today = new Date().toDateString();
            if (lastDaily !== today) {
                streak++;
                localStorage.setItem('tegyStreak', streak.toString());
                lastDaily = today;
                localStorage.setItem('tegyLastDaily', today);
            }
            const challengeDiv = document.getElementById(`daily-challenge-${subject}`);
            if (challengeDiv) challengeDiv.style.display = 'block';

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–µ–¥–º–µ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ–º beginner –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã)
            let questionEl, inputEl, resultEl;
            if (subject === 'english') {
                questionEl = document.getElementById('daily-word');
                const randomCard = subjects.english.beginner.flashcards[Math.floor(Math.random() * subjects.english.beginner.flashcards.length)];
                questionEl.innerText = `–ü–µ—Ä–µ–≤–µ–¥–∏ "${randomCard.word}"`;
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ data-–∞—Ç—Ä–∏–±—É—Ç–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
                questionEl.dataset.correct = randomCard.translation.toLowerCase();
            } else if (subject === 'math') {
                questionEl = document.getElementById('daily-math-question');
                const randomQuiz = subjects.math.beginner.quizzes[Math.floor(Math.random() * subjects.math.beginner.quizzes.length)];
                questionEl.innerText = randomQuiz.question;
                questionEl.dataset.correct = randomQuiz.answer.toLowerCase();
            } else if (subject === 'history') {
                questionEl = document.getElementById('daily-history-question');
                const randomQuiz = subjects.history.beginner.quizzes[Math.floor(Math.random() * subjects.history.beginner.quizzes.length)];
                questionEl.innerText = randomQuiz.question;
                questionEl.dataset.correct = randomQuiz.answer.toLowerCase();
            } else if (subject === 'programming') {
                questionEl = document.getElementById('daily-programming-question');
                const randomQuiz = subjects.programming.beginner.quizzes[Math.floor(Math.random() * subjects.programming.beginner.quizzes.length)];
                questionEl.innerText = randomQuiz.question;
                questionEl.dataset.correct = randomQuiz.answer.toLowerCase();
            }
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            if (questionEl) {
                const inputId = `daily-${subject}-input` || `daily-input`;
                inputEl = document.getElementById(inputId);
                resultEl = document.getElementById(`daily-${subject}-result`) || document.getElementById('daily-result');
                if (inputEl) inputEl.value = '';
                if (resultEl) resultEl.innerText = '';
            }
        }

        function checkDaily(subject) {
            let questionEl, inputEl, resultEl;
            if (subject === 'english') {
                questionEl = document.getElementById('daily-word');
                inputEl = document.getElementById('daily-input');
                resultEl = document.getElementById('daily-result');
            } else if (subject === 'math') {
                questionEl = document.getElementById('daily-math-question');
                inputEl = document.getElementById('daily-math-input');
                resultEl = document.getElementById('daily-math-result');
            } else if (subject === 'history') {
                questionEl = document.getElementById('daily-history-question');
                inputEl = document.getElementById('daily-history-input');
                resultEl = document.getElementById('daily-history-result');
            } else if (subject === 'programming') {
                questionEl = document.getElementById('daily-programming-question');
                inputEl = document.getElementById('daily-programming-input');
                resultEl = document.getElementById('daily-programming-result');
            }
            if (!questionEl || !inputEl || !resultEl) return;

            const userAnswer = inputEl.value.toLowerCase().trim();
            const correctAnswer = questionEl.dataset.correct || '';
            if (userAnswer === correctAnswer) {
                resultEl.innerText = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ –°—Çreak –æ–±–Ω–æ–≤–ª—ë–Ω.';
                resultEl.style.color = 'green';
                tg.HapticFeedback.impactOccurred('heavy');
                createConfetti();
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä–∏–∫ (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –≤ showDailyChallenge, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–Ω—É—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
                progress[`${subject}-beginner`] = (progress[`${subject}-beginner`] || 0) + 1;
                localStorage.setItem('tegyProgress', JSON.stringify(progress));
            } else {
                resultEl.innerText = `–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${questionEl.dataset.correct}`;
                resultEl.style.color = 'red';
                tg.HapticFeedback.notificationOccurred('error');
                // –ù–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç—Ä–∏–∫, –Ω–æ –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º
            }
            inputEl.value = '';  // –û—á–∏—Å—Ç–∫–∞ –≤–≤–æ–¥–∞
        }

        function checkStreak() {
            const today = new Date().toDateString();
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            if (lastDaily !== today && lastDaily !== yesterday.toDateString()) {
                streak = 0;
                localStorage.setItem('tegyStreak', '0');
            }
            document.getElementById('streak-counter').innerText = streak;  // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
        }

        function updateProfile() {
            const progressList = document.getElementById('profile-progress');
            if (!progressList) return;
            progressList.innerHTML = '';
            Object.keys(subjects).forEach(subject => {
                const levels = ['beginner', 'intermediate', 'advanced'];
                levels.forEach(level => {
                    const key = `${subject}-${level}`;
                    const li = document.createElement('li');
                    const quizCount = subjects[subject][level].quizzes.length;
                    const p = progress[key] || 0;
                    li.innerText = `${subject} ${level}: ${p} / ${quizCount} (${Math.round((p / quizCount) * 100)}%)`;
                    progressList.appendChild(li);
                });
            });

            const badges = document.getElementById('profile-badges');
            if (badges) {
                badges.innerHTML = '';
                // –ó–Ω–∞—á–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                let totalProgress = Object.values(progress).reduce((a, b) => a + b, 0);
                if (totalProgress >= 10) badges.innerHTML += '<span class="badge">ü•â</span>';  // –ë—Ä–æ–Ω–∑–∞
                if (totalProgress >= 25) badges.innerHTML += '<span class="badge">ü•à</span>';  // –°–µ—Ä–µ–±—Ä–æ
                if (totalProgress >= 50) badges.innerHTML += '<span class="badge">ü•á</span>';  // –ó–æ–ª–æ—Ç–æ
                if (streak >= 7) badges.innerHTML += '<span class="badge">üî•</span>';  // –û–≥–æ–Ω—å –∑–∞ —Å—Ç—Ä–∏–∫
            }

            document.getElementById('streak-counter').innerText = streak;
        }

        function shareProgress() {
            const totalProgress = Object.values(progress).reduce((a, b) => a + b, 0);
            const text = `–ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ Tegy S: ${totalProgress} –∑–∞–¥–∞–Ω–∏–π –ø—Ä–æ–π–¥–µ–Ω–æ! –°–µ—Ä–∏—è: ${streak} –¥–Ω–µ–π. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è! üöÄ`;
            tg.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(tg.initDataUnsafe.start_param || '')}&text=${encodeURIComponent(text)}`);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function init() {
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–º—É
            if (localStorage.getItem('tegyTheme') === 'dark') {
                document.body.classList.add('dark');
            }
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
            showMainMenu();
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
            Object.keys(subjects).forEach(subject => updateFavorites(subject));
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä–∏–∫
            checkStreak();
        }

        // –°–æ–±—ã—Ç–∏—è
        window.addEventListener('load', init);

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        window.onerror = function(msg, url, line) {
            tg.showAlert(`–û—à–∏–±–∫–∞: ${msg} (—Å—Ç—Ä–æ–∫–∞ ${line})`);
        };
    </script>
</body>
</html>
